<header><h1>StorageArea.set()</h1></header><div class="section-content">
<p>저장소 영역에 하나 이상의 항목을 저장하거나, 있는 항목을 고친다.</p> <p>이 API로 값을 저장하거나 고치면, <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage/onChanged" class="only-in-en-us"><code>storage.onChanged</code> <small>(en-US)</small></a> 이벤트가 발생한다.</p> <p>비동기 함수로 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>를 돌려준다.</p>
</div>
<section aria-labelledby="문법"><h2 id="문법">문법</h2>
<div class="section-content">
<div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="SP/CVZ5+V97MuTnONSriRlQ9VXZitqIdgLS8Tlvj7kU=" data-language="js"><span class="token keyword">let</span> settingItem <span class="token operator">=</span> browser<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token operator">&amp;</span>#x3C<span class="token punctuation">;</span>storageType<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  keys             <span class="token comment">// object</span>
<span class="token punctuation">)</span>
</pre>
</div> <p><code>&lt;storageType&gt;</code>은 쓰기 가능한 저장소 중의 하나다 — <a href="../sync"><code>storage.sync</code></a> 또는 <a href="../local"><code>storage.local</code></a>.</p>
</div></section><section aria-labelledby="매개변수"><h3 id="매개변수">매개변수</h3>
<div class="section-content"><dl> <dt id="keys"><code>keys</code></dt> <dd> <p>저장소에 저장할 하나 이상의 키/값 쌍을 가진 객체다. 이미 있는 항목이라면 그 값은 고쳐진다.값은 <a href="https://developer.mozilla.org/ko/docs/Glossary/Primitive">기초 자료형</a> (숫자, 논리값, 그리고 문자열 같은) 또는 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>배열</code></a>이다.<code>Function</code>, <code>Date</code>, <code>RegExp</code>, <code>Set</code>, <code>Map</code>, <code>ArrayBuffer</code> 기타등등 다른 자료형의 저장은 일반적으로 안된다. 지원되지 않는 이런 자료형들은 빈 객체로 저장되거나 에러를 발생시킨다. 정확한 것은 브라우저에 달렸다.</p> </dd> </dl></div></section><section aria-labelledby="반환값"><h3 id="반환값">반환값</h3>
<div class="section-content"><p>반환된 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>는 동작이 성공하면 아무런 인수없이 완료를 수행하고, 실패하면 에러 문장과 함께 거부를 수행한다.</p></div></section><h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<section aria-labelledby="예제"><h2 id="예제">예제</h2>
<div class="section-content">
<div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="OCnX6E08626JnU1dT3WbVUA10BH7cE1vH/FMizzxvVs=" data-language="js"><span class="token keyword">function</span> <span class="token function">setItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"OK"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">gotKitten</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>kitten<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>kitten<span class="token punctuation">.</span>eyeCount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eyes</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">gotMonster</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>monster<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>monster<span class="token punctuation">.</span>eyeCount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eyes</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// define 2 objects</span>
<span class="token keyword">var</span> monster <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Kraken"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tentacles</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">eyeCount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> kitten <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Moggy"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tentacles</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">eyeCount</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token comment">// store the objects</span>
browser<span class="token punctuation">.</span>storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>kitten<span class="token punctuation">,</span> monster<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>setItem<span class="token punctuation">,</span> onError<span class="token punctuation">)</span><span class="token punctuation">;</span>

browser<span class="token punctuation">.</span>storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"kitten"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>gotKitten<span class="token punctuation">,</span> onError<span class="token punctuation">)</span><span class="token punctuation">;</span>
browser<span class="token punctuation">.</span>storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"monster"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>gotMonster<span class="token punctuation">,</span> onError<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <div class="notecard note" id="sect2"> <p><strong>참고:</strong> <strong>Acknowledgements</strong>This API is based on Chromium's <a href="https://developer.chrome.com/extensions/storage" target="_blank"><code>chrome.storage</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/extensions/common/api/storage.json" target="_blank"><code>storage.json</code></a> in the Chromium code.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/set" class="_attribution-link">https://developer.mozilla.org/ko/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/set</a>
  </p>
</div>
