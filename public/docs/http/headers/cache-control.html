<h1>Cache-Control</h1>
<header><h1>Cache-Control</h1></header><div class="section-content">
<p><code>Cache-Control</code> 일반 헤더 필드는 요청과 응답 내의 캐싱 메커니즘을 위한 디렉티브를 정하기 위해 사용됩니다. 캐싱 디렉티브는 단방향성이며, 이는 요청 내에 주어진 디렉티브가 응답 내에 주어진 디렉티브와 동일하다는 것을 뜻하지는 않는다는 것을 의미합니다.</p> <figure class="table-container"><div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a href="https://developer.mozilla.org/ko/docs/Glossary/General_header">General header</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/ko/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>no</td> </tr> <tr> <th scope="row"><a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Glossary/Simple_response_header">CORS-safelisted response-header <small>(en-US)</small></a></th> <td>yes</td> </tr> </tbody> </table></div></figure>
</div>
<section aria-labelledby="문법"><h2 id="문법">문법</h2>
<div class="section-content"><p>디렉티브는 대소문자를 구분하지 않으며 토큰과 따옴표로 둘러쌓인 문자열 문법 모두를 사용할 수 있는 부가적인 인자를 가집니다. 다중 디렉티브는 쉼표로 구분됩니다.</p></div></section><section aria-labelledby="캐시_요청_디렉티브"><h3 id="캐시_요청_디렉티브">캐시 요청 디렉티브</h3>
<div class="section-content">
<p>HTTP 요청 내에서 클라이언트에 의해 사용될 수 있는 표준 <code>Cache-Control</code> 디렉티브.</p> <pre class="notranslate">Cache-Control: max-age=&lt;seconds&gt;
Cache-Control: max-stale[=&lt;seconds&gt;]
Cache-Control: min-fresh=&lt;seconds&gt;
Cache-control: no-cache
Cache-control: no-store
Cache-control: no-transform
Cache-control: only-if-cached
</pre>
</div></section><section aria-labelledby="캐시_응답_디렉티브"><h3 id="캐시_응답_디렉티브">캐시 응답 디렉티브</h3>
<div class="section-content">
<p>HTTP 응답 내에서 서버에 의해 사용될 수 있는 표준 <code>Cache-Control</code> 디렉티브.</p> <pre class="notranslate">Cache-control: must-revalidate
Cache-control: no-cache
Cache-control: no-store
Cache-control: no-transform
Cache-control: public
Cache-control: private
Cache-control: proxy-revalidate
Cache-Control: max-age=&lt;seconds&gt;
Cache-control: s-maxage=&lt;seconds&gt;
</pre>
</div></section><section aria-labelledby="확장_cache-control_디렉티브"><h3 id="확장_cache-control_디렉티브">확장 <code>Cache-Control</code> 디렉티브</h3>
<div class="section-content">
<p>확장 <code>Cache-Control</code> 디렉티브는 핵심 HTTP 캐싱 표준 문서에 속하지 않습니다. 지원 여부는 <a href="#browser_compatibility">호환성 테이블</a>을 확인하시기 바랍니다.</p> <pre class="notranslate">Cache-control: immutable
Cache-control: stale-while-revalidate=&lt;seconds&gt;
Cache-control: stale-if-error=&lt;seconds&gt;
</pre>
</div></section><section aria-labelledby="디렉티브"><h2 id="디렉티브">디렉티브</h2>
</section><section aria-labelledby="캐시_능력"><h3 id="캐시_능력">캐시 능력</h3>
<div class="section-content"><dl> <dt id="public"><code>public</code></dt> <dd> <p>응답이 어떤 캐시에 의해서든 캐시된다는 것을 나타냅니다.</p> </dd> <dt id="private"><code>private</code></dt> <dd> <p>응답이 단일 사용자를 위한 것이며 공유 캐시에 의해 저장되지 않아야 한다는 것을 나타냅니다. 사설 캐시는 응답을 저장할 수도 있습니다.</p> </dd> <dt id="no-cache"><code>no-cache</code></dt> <dd> <p>캐시된 복사본을 사용자에게 보여주기 이전에, 재검증을 위한 요청을 원 서버로 보내도록 강제합니다.</p> </dd> <dt id="only-if-cached"><code>only-if-cached</code></dt> <dd> <p>새로운 데이터를 내려받지 않음을 나타냅니다. 클라이언트는 캐시된 응답만을 원하며, 더 최신 복사본이 존재하는지를 알아보기 위해 서버에 요청해선 안됩니다.</p> </dd> </dl></div></section><section aria-labelledby="만료"><h3 id="만료">만료</h3>
<div class="section-content"><dl> <dt id="max-ageseconds"><code>max-age=&lt;seconds&gt;</code></dt> <dd> <p>리소스가 최신 상태라고 판단할 최대 시간을 지정합니다. <code>Expires</code>에 반해, 이 디렉티브는 요청 시간과 관련이 있습니다.</p> </dd> <dt id="s-maxageseconds"><code>s-maxage=&lt;seconds&gt;</code></dt> <dd> <p><code>max-age</code> 혹은 <code>Expires</code> 헤더를 재정의하나, (프록시와 같은) 공유 캐시에만 적용되며 사설 캐시에 의해서는 무시됩니다.</p> </dd> <dt id="max-staleseconds"><code>max-stale[=&lt;seconds&gt;]</code></dt> <dd> <p>클라이언트가 캐시의 만료 시간을 초과한 응답을 받아들일지를 나타냅니다. 부가적으로, 초 단위의 값을 할당할 수 있는데, 이는 응답이 결코 만료되서는 안되는 시간을 나타냅니다.</p> </dd> <dt id="min-freshseconds"><code>min-fresh=&lt;seconds&gt;</code></dt> <dd> <p>클라이언트가 지정된 시간(초단위) 동안 신선한 상태로 유지될 응답을 원한다는 것을 나타냅니다.</p> </dd> <dt id="stale-while-revalidateseconds">
<code>stale-while-revalidate=&lt;seconds&gt;</code> <abbr class="icon icon-experimental" title="Experimental. 예상되는 동작은 향후 변경될 수 있습니다."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>비동기 적으로 백그라운드 에서 새로운 것으로 체크인하는 동안 클라이언트가 최신이 아닌 응답을 받아 들일 것임을 나타냅니다. 초 값은 클라이언트가 최신이 아닌 응답을 받아 들일 시간을 나타냅니다.</p> </dd> <dt id="stale-if-errorseconds">
<code>stale-if-error=&lt;seconds&gt;</code> <abbr class="icon icon-experimental" title="Experimental. 예상되는 동작은 향후 변경될 수 있습니다."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>...</p> </dd> </dl></div></section><section aria-labelledby="재검증과_리로딩"><h3 id="재검증과_리로딩">재검증과 리로딩</h3>
<div class="section-content"><dl> <dt id="must-revalidate"><code>must-revalidate</code></dt> <dd> <p>캐시는 사용하기 이전에 기존 리소스의 상태를 반드시 확인해야 하며 만료된 리소스는 사용되어서는 안됩니다.</p> </dd> <dt id="proxy-revalidate"><code>proxy-revalidate</code></dt> <dd> <p><code>must-revalidate</code>와 동일하지만, (프록시와 같은)공유 캐시에만 적용되며 사설 캐시에 의해서는 무시됩니다.</p> </dd> <dt id="immutable"><code>immutable</code></dt> <dd> <p>응답 본문이 계속해서 변하지 않을 것이라는 것을 나타냅니다. 응답은, 만료되지 않은 경우라면, 서버 상에서 변경되지 않을 것이고 그러므로 클라이언트는 업데이트 검사를 위해 (<code>If-None-Match</code> 혹은 <code>If-Modified-Since</code>과 같은)그에 대한 조건부의 재검증을 전송해서는 안 됩니다. 이 확장을 감지하지못한 클라이언트는 HTTP 명세에 따라 그것들을 무시해야만 합니다. 파이어폭스에서, <code>immutable</code>는 <code>https://</code> 트랜잭션 상에서만 부여됩니다. 좀 더 많은 정보는 다음의 <a href="http://bitsup.blogspot.de/2016/05/cache-control-immutable.html" target="_blank">블로그 포스트</a>를 참고하시기 바랍니다.</p> </dd> </dl></div></section><section aria-labelledby="기타"><h3 id="기타">기타</h3>
<div class="section-content"><dl> <dt id="no-store"><code>no-store</code></dt> <dd> <p>캐시는 클라이언트 요청 혹은 서버 응답에 관해서 어떤 것도 저장해서는 안됩니다.</p> </dd> <dt id="no-transform"><code>no-transform</code></dt> <dd> <p>응답에 대해 변형이나 변환이 일어나서는 안됩니다. Content-Encoding, Content-Range, Content-Type 헤더는 프록시에 의해서 수정되어서는 안됩니다. 반투명 프록시는, 예를 들어, 캐시 공간을 절약하고 느린 링크 상의 트래픽량을 줄이기 위해 이미지 포맷들을 변환합니다. <code>no-transform</code> 디렉티브는 이를 허용하지 않습니다.</p> </dd> </dl></div></section><section aria-labelledby="예제"><h2 id="예제">예제</h2>
</section><section aria-labelledby="캐싱_막기"><h3 id="캐싱_막기">캐싱 막기</h3>
<div class="section-content">
<p>캐싱을 끄기 위해서, 다음의 디렉티브들을 보낼 수 있습니다. 추가로, <code>Expires와</code> <code>Pragma</code> 헤더를 참고하시기 바랍니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">bash</span></p>
<pre data-signature="vmZnPVoLWd/P9UD2MCAuGf5Dzud0kqY0misfqEAdi4A=" data-language="bash">Cache-Control: no-cache, no-store, must-revalidate
</pre>
</div>
</div></section><section aria-labelledby="정적_에셋_캐싱"><h3 id="정적_에셋_캐싱">정적 에셋 캐싱</h3>
<div class="section-content">
<p>변경되지 않을 애플리케이션 내 파일들에 대해, 보통 적극적인 캐싱을 추가할 수 있습니다. 이것은 예를 들자면, 이미지, CSS 파일 그리고 자바스크립트 파일과 같이 애플리케이션에 의해 서브되는 정적 파일들을 포함합니다. 추가로, <code>Expires</code> 헤더를 참고하시기 바랍니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">bash</span></p>
<pre data-signature="roFwy4p9XuGkno9AXVsKaXKQrsT4PNZ1JXV4Gqq+9xE=" data-language="bash">Cache-Control:public, max-age<span class="token operator">=</span><span class="token number">31536000</span>
</pre>
</div>
</div></section><h2 id="명세">명세</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody>
<tr><td><a href="https://www.rfc-editor.org/rfc/rfc9111#field.cache-control">HTTP Caching <br><small># field.cache-control</small></a></td></tr>
<tr><td><a href="https://httpwg.org/specs/rfc8246.html#the-immutable-cache-control-extension">HTTP Immutable Responses <br><small># the-immutable-cache-control-extension</small></a></td></tr>
</tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<section aria-labelledby="함께_참고할_내용"><h2 id="함께_참고할_내용">함께 참고할 내용</h2>
<div class="section-content"><ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching" class="only-in-en-us">HTTP Caching FAQ <small>(en-US)</small></a></li> <li><a href="age"><code>Age</code></a></li> <li><a href="expires"><code>Expires</code></a></li> <li><a href="pragma"><code>Pragma</code></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Cache-Control" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Cache-Control</a>
  </p>
</div>
