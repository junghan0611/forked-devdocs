<h1>Strict-Transport-Security</h1>
<header><h1>Strict-Transport-Security</h1></header><div class="section-content">
<p>HTTP <code>Strict-Transport-Security</code> 응답 헤더(종종 <a href="https://developer.mozilla.org/ko/docs/Glossary/HSTS">HSTS</a>로 축약됨)는 사이트가 HTTPS를 통해서만 접근되어야 하며 향후 HTTP를 사용하여 사이트에 접근하려는 모든 시도는 자동으로 HTTPS로 변환되어야 함을 브라우저에 알립니다.</p> <div class="notecard note" id="sect1"> <p><strong>참고:</strong> 처음 HTTP 연결이 여전히 중간자 공격에 취약한 서버에서 단순히 HTTP를 HTTPS(301) 리디렉션으로 구성하는 것보다 더 안전합니다.</p> </div> <figure class="table-container"><div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">헤더 종류</th> <td><a href="https://developer.mozilla.org/ko/docs/Glossary/Response_header">응답 헤더</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/ko/docs/Glossary/Forbidden_header_name">금지된 헤더 이름</a></th> <td>아니요</td> </tr> </tbody> </table></div></figure>
</div>
<section aria-labelledby="구문"><h2 id="구문">구문</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">http</span></p>
<pre data-signature="O+Mg2kQxA0kxCcT4q46VzVHKLYsucz7X3fKtzUMvkZI=" data-language="http"><span class="token header"><span class="token header-name keyword">Strict-Transport-Security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=&lt;expire-time&gt;</span></span>
<span class="token header"><span class="token header-name keyword">Strict-Transport-Security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=&lt;expire-time&gt;; includeSubDomains</span></span>
<span class="token header"><span class="token header-name keyword">Strict-Transport-Security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=&lt;expire-time&gt;; includeSubDomains; preload</span></span>
</pre>
</div></div></section><section aria-labelledby="지시어"><h2 id="지시어">지시어</h2>
<div class="section-content"><dl> <dt id="max-ageexpire-time"><code>max-age=&lt;expire-time&gt;</code></dt> <dd> <p>HTTPS를 통해서만 사이트에 접근할 수 있음을 브라우저가 기억해야 하는 시간(초)입니다.</p> </dd> <dt id="includesubdomains">
<code>includeSubDomains</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>이 선택적 매개변수가 지정된 경우, 이 규칙은 사이트의 모든 하위 도메인에도 적용됩니다.</p> </dd> <dt id="preload">
<code>preload</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-nonstandard" title="비표준. 사용하기전에 다른 브라우저에서도 사용 가능한지 확인 해주세요."> <span class="visually-hidden">비표준</span> </abbr>
</dt> <dd> <p>자세한 내용은 <a href="#strict_transport_security_%ED%94%84%EB%A6%AC%EB%A1%9C%EB%94%A9">Strict Transport Security 프리로딩</a>를 참조하십시오. <code>preload</code>를 사용하는 경우 <code>max-age</code> 지시어는 <code>31536000</code>(1년) 이상이어야 하며 <code>includeSubDomains</code> 지시문이 있어야 합니다. 사양의 일부가 아닙니다.</p> </dd> </dl></div></section><section aria-labelledby="설명"><h2 id="설명">설명</h2>
<div class="section-content">
<p> 웹사이트가 HTTP를 통한 연결을 수락하고 HTTPS로 리디렉션하는 경우, 방문자는 리디렉션되기 전에 먼저 사이트의 비암호화 버전과 통신할 것입니다. 예를 들어 방문자가 <code>http://www.foo.com/</code>을 입력하거나 심지어 그냥 foo.com을 입력하는 경우입니다. 이는 중간자 공격의 기회를 만듭니다. 리디렉션을 악용하여 방문자를 원래 사이트의 보안 버전이 아닌 악의적인 사이트로 안내할 수 있습니다. </p> <p>HTTP Strict Transport Security 헤더는 브라우저가 HTTP를 사용하여 사이트를 불러와서는 안 되며 대신 HTTP를 사용하여 사이트에 접근하려는 모든 시도를 HTTPS 요청으로 자동 변환해야 함을 알립니다.</p> <div class="notecard note" id="sect2"> <p> <strong>참고:</strong> <code>Strict-Transport-Security</code> 헤더가 사이트가 HTTP를 통해서만 접근할 수 있다면 브라우저에 의해 <strong>무시됩니다</strong>. 인증서 오류 없이 HTTPS를 통해 사이트에 액세스할 수 있다면 브라우저는 사이트가 HTTPS를 사용할 수 있음을 인식하고 <code>Strict-Transport-Security</code> 헤더를 준수합니다. 브라우저는 공격자가 사이트에 대한 HTTP 연결을 가로채서 헤더를 삽입하거나 제거할 수 있으므로 이 작업을 수행합니다. </p> </div>
</div></section><section aria-labelledby="예제_시나리오"><h3 id="예제_시나리오">예제 시나리오</h3>
<div class="section-content">
<p> 공항에서 무료 Wi-Fi 액세스 포인트에 로그인하고 웹 서핑을 시작하고 온라인 뱅킹 서비스를 방문하여 잔액을 확인하고 몇 가지 청구서를 지불합니다. 불행하게도 여러분이 사용하고 있는 액세스 포인트는 실제로 해커의 노트북이며 해커는 여러분의 원래 HTTP 요청을 가로채 실제 사이트 대신 은행 사이트의 복제본으로 리디렉션하고 있습니다. 이제 여러분의 개인 데이터가 해커에게 노출됩니다. </p> <p>Strict Transport Security는 이 문제를 해결합니다. HTTPS를 사용하여 은행 웹사이트에 한 번 접근했고 은행 웹사이트에서 Strict Transport Security를 사용하는 한, 브라우저는 자동으로 HTTPS만 사용한다는 것을 알게 되어 해커가 이러한 종류의 중간자 공격을 수행하지 못하도록 방지합니다.</p>
</div></section><section aria-labelledby="브라우저가_처리하는_방법"><h3 id="브라우저가_처리하는_방법">브라우저가 처리하는 방법</h3>
<div class="section-content">
<p>HTTPS를 사용하여 사이트에 처음으로 접근하고 <code>Strict-Transport-Security</code> 헤더를 반환하면 브라우저가 이 정보를 기록하고, 이후에 HTTP를 사용하여 사이트를 로드하려고 시도할 때 자동으로 HTTPS를 대신 사용합니다.</p> <p><code>Strict-Transport-Security</code> 헤더에 지정된 만료 시간이 경과하면 HTTP를 통해 사이트를 불러오려는 다음 시도는 자동으로 HTTPS를 사용하지 않고 정상적으로 진행됩니다.</p> <p> Strict-Transport-Security 헤더가 브라우저에 전달될 때마다 사이트의 만료 시간을 업데이트하기 때문에 사이트는 정보를 새로 고칠 수 있고, 만료되는 것을 방지할 수 있습니다. 엄격 전송 보안을 비활성화해야 하는 경우 <code>max-age</code>를 0(https 연결 종료)으로 설정하면 <code>Strict-Transport-Security</code> 헤더가 즉시 만료되어 http를 통한 접근이 허용됩니다. </p>
</div></section><section aria-labelledby="strict_transport_security_프리로딩"><h2 id="strict_transport_security_프리로딩">Strict Transport Security 프리로딩</h2>
<div class="section-content">
<p> Google은 <a href="https://hstspreload.org/" target="_blank">HSTS 프리로딩 서비스</a>를 관리하고 있습니다. 지침을 따르고 도메인을 성공적으로 제출하면 브라우저가 보안 연결을 통해서만 도메인에 연결되도록 할 수 있습니다. 서비스가 Google에서 호스팅되는 동안 모든 브라우저는 이 사전 로드 목록을 사용합니다. 그러나 HSTS 사양의 일부가 아니므로 공식적인 것으로 취급해서는 안 됩니다. </p> <ul> <li>Chrome의 HSTS 사전 로드 목록 관련 정보: <a href="https://www.chromium.org/hsts" target="_blank">https://www.chromium.org/hsts</a>
</li> <li>Firefox HSTS 사전 로드 목록 참조: <a href="https://hg.mozilla.org/mozilla-central/raw-file/tip/security/manager/ssl/nsSTSPreloadList.inc" target="_blank">nsSTSPreloadList.inc</a>
</li> </ul>
</div></section><section aria-labelledby="예제"><h2 id="예제">예제</h2>
<div class="section-content">
<p>현재와 미래의 모든 하위 도메인은 1년의 <code>max-age</code> 동안 HTTPS가 됩니다. 이는 HTTP를 통해서만 제공될 수 있는 페이지 또는 하위 도메인에 대한 접근을 차단합니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">http</span></p>
<pre data-signature="978/D8xNuH3l8tc1vQBXflC9YHPqcgUAH1tK/bz2ydw=" data-language="http"><span class="token header"><span class="token header-name keyword">Strict-Transport-Security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=31536000; includeSubDomains</span></span>
</pre>
</div> <p>도메인에 대해 1년의 <code>max-age</code>이 허용되긴 하지만, <a href="https://hstspreload.org" target="_blank">https://hstspreload.org</a>에 설명된 대로 권장 값은 2년입니다.</p> <p>다음 예는 <code>max-age</code>를 2년으로 설정하고 Chromium, Edge, 그리고 Firefox와 같은 모든 주요 웹 브라우저의 HSTS 사전 로드 목록에 포함하는 데 반드시 필요한 사전 로드 접미사가 붙습니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">http</span></p>
<pre data-signature="TGbQxUoOaeQ0epAnftuefI6Y8gMA+AueK/GyIEahPIg=" data-language="http"><span class="token header"><span class="token header-name keyword">Strict-Transport-Security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=63072000; includeSubDomains; preload</span></span>
</pre>
</div>
</div></section><h2 id="명세서">명세서</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://www.rfc-editor.org/rfc/rfc6797#section-6.1">HTTP Strict Transport Security (HSTS) <br><small># section-6.1</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<section aria-labelledby="같이_보기"><h2 id="같이_보기">같이 보기</h2>
<div class="section-content"><ul> <li>블로그 포스트: <a href="https://blog.sidstamm.com/2010/08/http-strict-transport-security-has.html" target="_blank">HTTP Strict Transport Security has landed!</a>
</li> <li>플로그 포스트: <a href="https://hacks.mozilla.org/2010/08/firefox-4-http-strict-transport-security-force-https/" target="_blank">HTTP Strict Transport Security (force HTTPS)</a>
</li> <li>OWASP 문서: <a href="https://cheatsheetseries.owasp.org/cheatsheets/HTTP_Strict_Transport_Security_Cheat_Sheet.html" target="_blank">HTTP Strict Transport Security</a>
</li> <li>위키백과: <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank">HTTP Strict Transport Security</a>
</li> <li><a href="https://hstspreload.org/" target="_blank">HSTS 프리로드 서비스</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts" class="only-in-en-us">보안 컨텍스트로 제한된 기능 <small>(en-US)</small></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Strict-Transport-Security" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Strict-Transport-Security</a>
  </p>
</div>
