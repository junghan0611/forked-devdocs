<h1>Using Babel with TypeScript</h1>
<h2 id="babel-vs-typescript의-tsc" style="position:relative;">Babel vs TypeScript의 <code>tsc</code>
</h2> <p>모던 JavaScript 프로젝트를 만들 때, TypeScript에서 JavaScript 파일로 변환하는 올바른 방법에 대해 고민할 수 있습니다.</p> <p>많은 경우 그 대답은 프로젝트에 따라 <em>“~에 달려있다”</em> 또는 <em>“누군가 여러분 대신 결정했을지도 모른다`</em> 가 될 것입니다. 만약 <a href="https://www.npmjs.com/package/tsdx">tsdx</a>, <a href="https://angular.io/">Angular</a>, <a href="https://nestjs.com/">NestJS</a>와 같은 기존 프레임워크 또는 <a href="https://www.typescriptlang.org/docs/home">Getting Started</a>에 언급된 프레임워크를 사용하여 프로젝트를 만들고 있다면 이 결정은 여러분을 위해 자동으로 처리됩니다.</p> <p>하지만, 사용할만한 직관적인 방법은 다음과 같습니다:</p> <ul> <li>빌드 출력 결과와 소스 입력 파일이 거의 비슷한가요? <code>tsc</code>를 사용하세요.</li> <li>여러 잠재적인 결과물을 내는 빌드 파이프라인이 필요하신가요? <code>babel</code>로 트랜스파일링을 하고, <code>tsc</code>로 타입을 검사하세요.</li> </ul> <h2 id="트랜스파일링은-babel-타입은-tsc" style="position:relative;">트랜스파일링은 Babel, 타입은 <code>tsc</code>
</h2> <p>JavaScript 코드 베이스에서 TypeScript로 포팅되었을 수 있는 기존 빌드 인프라 구조를 가진 프로젝트의 일반적인 패턴입니다.</p> <p>이 기술은, Babel의 <a href="https://babeljs.io/docs/en/babel-preset-typescript">preset-typescript</a>을 사용하여 JS 파일을 생성한 후, TypeScript를 사용하여 타입 검사 및 <code>.d.ts</code> 파일을 생성하는 복합 접근 방식입니다.</p> <p>Babel은 TypeScript를 지원하기 때문에, 기존 빌드 파이프라인으로 작업할 수 있고 Babel이 코드 타입을 검사하지 않기 때문에 JS 출력 시간이 더 빨라질 수 있습니다.</p> <h4 id="타입-검사와-dts-파일-생성" style="position:relative;">타입 검사와 d.ts 파일 생성</h4> <p>Babel 사용의 단점은 TS를 JS로 전환하는 동안 타입 검사를 할 수 없다는 점입니다. 즉, 에디터에서 잡지 못한 타입 오류가 프로덕션 코드에 포함될 수도 있다는 뜻입니다.</p> <p>또한, Babel은 TypeScript에 대한 <code>.d.ts</code> 파일을 만들 수 없기 때문에 여러분의 프로젝트가 라이브러리인 경우 작업하기가 더 어려워질 수 있습니다.</p> <p>이러한 문제를 해결하려면 TSC를 사용하여 프로젝트의 타입을 검사할 수 있는 명령어를 설정하는 것이 좋습니다. 이는 Babel 구성의 일부를 해당 <a href="https://www.typescriptlang.org/tconfig"><code>tsconfig.json</code></a>에 복제하고, 다음 플래그가 활성화되었는지 확인하는 것을 의미합니다:</p> <pre tsconfig="true" data-language="typescript">"compilerOptions": {
  // tsc를 사용해 .js 파일이 아닌 .d.ts 파일이 생성되었는지 확인합니다.
  "declaration": true,
  "emitDeclarationOnly": true,
  // Babel이 TypeScript 프로젝트의 파일을 안전하게 트랜스파일할 수 있는지 확인합니다.
  "isolatedModules": true
}</pre> <p>해당 플래그에 대한 자세한 내용은 다음을 참고해주세요:</p> <ul> <li><a href="https://www.typescriptlang.org/tsconfig#isolatedModules"><code>isolatedModules</code></a></li> <li>
<a href="https://www.typescriptlang.org/tsconfig#declaration"><code>declaration</code></a>, <a href="https://www.typescriptlang.org/tsconfig#emitDeclarationOnly"><code>emitDeclarationOnly</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012-2023 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://www.typescriptlang.org/ko/docs/handbook/babel-with-typescript.html" class="_attribution-link">https://www.typescriptlang.org/ko/docs/handbook/babel-with-typescript.html</a>
  </p>
</div>
