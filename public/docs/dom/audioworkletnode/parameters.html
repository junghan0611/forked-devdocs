<header><h1>AudioWorkletNode.parameters</h1></header><div class="section-content"><p><a href="../audioworkletnode"><code>AudioWorkletNode</code></a> 인터페이스의 읽기 전용 <code>parameters</code> 속성은 연관된 <a href="../audioparammap"><code>AudioParamMap</code></a>을 반환합니다 — 즉, <a href="../audioparam"><code>AudioParam</code></a> 객체들의 유사 <code>Map</code> 컬렉션입니다. 이것들은 <a href="../audioworkletprocessor"><code>AudioWorkletProcessor</code></a>의 static <a href="../audioworkletprocessor/parameterdescriptors"><code>parameterDescriptors</code></a> getter에 따라 근본적인 <a href="../audioworkletprocessor"><code>AudioWorkletProcessor</code></a>의 생성 중에 초기화됩니다.</p></div>
<h2 id="구문">구문</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="FrDINAXb2n2ZqBjohhgsmGo6DVQ9Bhm5eMF5YLRWu1k=" data-language="js">audioWorkletNodeInstance<span class="token punctuation">.</span>parameters
</pre>
</div></div>
<h3 id="값">값</h3>
<div class="section-content"><p><a href="../audioparam"><code>AudioParam</code></a> 인스턴스들을 포함하는 <a href="../audioparammap"><code>AudioParamMap</code></a> 객체. 이것들은 기본 <code>AudioNode</code> 들과 같은 방법으로 자동화 가능하고, 그들의 계산된 값들은 여러분의 <a href="../audioworkletprocessor"><code>AudioWorkletProcessor</code></a>의 <a href="../audioworkletprocessor/process"><code>process</code></a> 메서드에서 사용될 수 있습니다.</p></div>
<h2 id="예제">예제</h2>
<div class="section-content">
<p>사용자 정의 <code>AudioParam</code> 들의 생성과 사용을 시연하기 위해, 우리는 <a href="../audioworkletnode"><code>AudioWorkletNode</code></a> 페이지의 예제를 확장할 것입니다. 저 글에서 우리는 백색소음을 출력하는 단순한 노드를 생성했습니다. 여기서 추가적으로, 우리는 출력의 볼륨을 직접 변경할 수 있도록 사용자 정의 gain 속성을 생성할 것입니다 (비록 여러분은 이를 달성하기 위해 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/GainNode"><code>GainNode</code> <small>(en-US)</small></a>를 또한 사용할 수도 있지만요).</p> <p>우선, 우리는 커스텀 <code>AudioWorkletProcessor</code>를 정의하고, 등록할 필요가 있습니다. 이 작업은 별도의 파일에서 이루어져야 함을 기억하세요.</p> <p>우리는 static <a href="../audioworkletprocessor/parameterdescriptors"><code>parameterDescriptors</code></a> getter를 추가함으로써 프로세서를 확장합니다. 이것은 초기화된 <code>AudioParam</code> 객체들로 이것의 <code>parameters</code> 를 채우기 위해 <code>AudioWorkletNode</code> 생성자에 의해 내부적으로 사용될 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="PiiplOBy7JTlXa/YXA++OvZ4XZnOa+s2dFrdgCvoRIY=" data-language="js"><span class="token comment">// white-noise-processor.js</span>
<span class="token keyword">class</span> <span class="token class-name">WhiteNoiseProcessor</span> <span class="token keyword">extends</span> <span class="token class-name">AudioWorkletProcessor</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">parameterDescriptors</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'customGain'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minValue</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxValue</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">automationRate</span><span class="token operator">:</span> <span class="token string">'a-rate'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">process</span> <span class="token punctuation">(</span><span class="token parameter">inputs<span class="token punctuation">,</span> outputs<span class="token punctuation">,</span> parameters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> output <span class="token operator">=</span> outputs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    output<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">channel</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> channel<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        channel<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span>
          <span class="token punctuation">(</span>parameters<span class="token punctuation">[</span><span class="token string">'customGain'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> parameters<span class="token punctuation">[</span><span class="token string">'customGain'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">:</span> parameters<span class="token punctuation">[</span><span class="token string">'customGain'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment">// 참고: 파라미터는 128개의 값 (각 128 샘플에 대한 하나의 값) 을 가진 배열을 포함하지만,</span>
        <span class="token comment">// 만약 그 순간에 자동화가 스케쥴되어 있지 않다면</span>
        <span class="token comment">// 모든 128개의 샘플에 대해 사용될 하나의 값을 포함할 수도 있습니다.</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">registerProcessor</span><span class="token punctuation">(</span><span class="token string">'white-noise-processor'</span><span class="token punctuation">,</span> WhiteNoiseProcessor<span class="token punctuation">)</span>
</pre>
</div> <p>다음으로, 메인 스크립트 파일에서 우리는 프로세서를 로드하고, 프로세서의 이름을 전달하며 <code>AudioWorkletNode</code> 의 인스턴스를 생성하고, 노드를 오디오 그래프에 연결합니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="V7v5satrHh0rllM5vzAY+hfQd+aM64PBHAuITicjbfU=" data-language="js"><span class="token keyword">const</span> audioContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> audioContext<span class="token punctuation">.</span>audioWorklet<span class="token punctuation">.</span><span class="token function">addModule</span><span class="token punctuation">(</span><span class="token string">'white-noise-processor.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> whiteNoiseNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioWorkletNode</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">,</span> <span class="token string">'white-noise-processor'</span><span class="token punctuation">)</span>
whiteNoiseNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span>
</pre>
</div> <p>이제 우리는 노드의 gain을 다음과 같이 변경할 수 있습니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="eiy3/TTogUYXmeesg+UnR3Gw4IZpcjK3g8YiqHguo5Y=" data-language="js"><span class="token keyword">const</span> gainParam <span class="token operator">=</span> whiteNoiseNode<span class="token punctuation">.</span>parameters<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'customGain'</span><span class="token punctuation">)</span>
gainParam<span class="token punctuation">.</span><span class="token function">setValueAtTime</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> audioContext<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span>
gainParam<span class="token punctuation">.</span><span class="token function">linearRampToValueAtTime</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> audioContext<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
</pre>
</div>
</div>
<h2 id="명세">명세</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://webaudio.github.io/web-audio-api/#dom-audioworkletnode-parameters">Web Audio API <br><small># dom-audioworkletnode-parameters</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h2 id="같이_보기">같이 보기</h2>
<div class="section-content"><ul> <li><a href="../web_audio_api">Web Audio API</a></li> <li><a href="../web_audio_api/using_web_audio_api">Web Audio API 사용하기</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/AudioWorkletNode/parameters" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/AudioWorkletNode/parameters</a>
  </p>
</div>
