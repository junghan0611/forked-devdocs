<header><h1>AudioParam.setValueCurveAtTime()</h1></header><div class="section-content">
<p><a href="../audioparam"><code>AudioParam</code></a> 인터페이스의 <code>setValueCurveAtTime()</code> 메서드는 파라미터의 값이 값들의 리스트에 의해 정의되는 커브를 따라 변화하도록 예정합니다.</p> <p>이 커브는 부동점 값들의 배열에서 정의되는 연속되는 값들 사이의 선형 보간인데, 이는 <code>startTime</code> 에 시작하는 주어진 구간과 특정한 기간에 맞도록 조정됩니다.</p>
</div>
<h2 id="구문">구문</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="zJ/YCrCQhcJgnDOfeY0294nOzmFIajlAPjC51I3qUoA=" data-language="js"><span class="token keyword">var</span> paramRef <span class="token operator">=</span> param<span class="token punctuation">.</span><span class="token function">setValueCurveAtTime</span><span class="token punctuation">(</span>values<span class="token punctuation">,</span> startTime<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div></div>
<h3 id="매개변수">매개변수</h3>
<div class="section-content"><dl> <dt id="values"><code>values</code></dt> <dd> <p>명시된 <code>duration</code> 을 따라 <a href="../audioparam"><code>AudioParam</code></a>이 변화할 값 커브를 나타내는 부동점 number들의 배열. 이 배열에 있는 모든 값은 반드시 유한한 숫자여야 합니다. 만약 값이 <code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code> 라면, <code>TypeError</code> 예외가 발생합니다.</p> </dd> <dt id="starttime"><code>startTime</code></dt> <dd> <p><a href="../audiocontext"><code>AudioContext</code></a>가 처음 생성된 이후 값의 변화가 일어날 시간 (초 단위로 표현됨) 을 나타내는 double. 만약 이 값이 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/currentTime"><code>AudioContext.currentTime</code> <small>(en-US)</small></a>보다 작다면, 이 값은 <code>currentTime</code> 으로 맞춰집니다.</p> </dd> <dt id="duration"><code>duration</code></dt> <dd> <p>파라미터의 <code>value</code> 가 명시된 커브를 따라 변화하는 총 시간 (초 단위로 표현됨) 을 나타내는 double. 명시된 값들은 이 기간을 따라 동일하게 간격이 맞춰집니다.</p> </dd> </dl></div>
<h3 id="반환_값">반환 값</h3>
<div class="section-content"><p>이 <code>AudioParam</code> 객체에 대한 참조. 이 인터페이스의 몇몇 오래된 브라우저 구현은 <code>undefined</code> 를 반환합니다.</p></div>
<h3 id="예외">예외</h3>
<div class="section-content"><dl> <dt id="invalidstateerror">
<code>InvalidStateError</code> <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMException"><code>DOMException</code> <small>(en-US)</small></a>
</dt> <dd> <p><code>values</code> 의 명시된 배열이 원소를 2개보다 적게 가지고 있을 때 발생됩니다.</p> </dd> <dt id="rangeerror">
<code>RangeError</code> <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMException"><code>DOMException</code> <small>(en-US)</small></a>
</dt> <dd> <p>명시된 <code>startTime</code> 이 음수 혹은 유한하지 않은 값이거나, <code>duration</code> 이 유한하지 않고 정확히 양수인 수가 아니면 발생됩니다.</p> </dd> <dt id="typeerror">
<code>TypeError</code> <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMException"><code>DOMException</code> <small>(en-US)</small></a>
</dt> <dd> <p><code>values</code> 배열에 있는 값들 중 한 개 이상의 값이 유한하지 않으면 발생됩니다. 유한하지 않은 값이란 <code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code> 입니다.</p> </dd> </dl></div>
<h2 id="사용_일람">사용 일람</h2>
<div class="section-content">
<p>파라미터의 값이 커브를 따라서 종료되었을 때, 파라미터의 값은 <code>values</code> 매개변수에서 명시된 값들의 집합의 마지막 값과 일치하도록 보장됩니다.</p> <div class="notecard note" id="sect1"> <p> <strong>참고:</strong> Web Audio API의 몇몇 이른 구현은 이것이 사실임을 보장하지 않는데, 이는 예기치 않은 결과를 유발합니다. </p> </div>
</div>
<h2 id="예제">예제</h2>
<div class="section-content">
<p>이 예제는 하나의 버튼을 가진 미디어 소스를 가지고 있습니다 (소스 코드는 <a href="https://github.com/mdn/webaudio-examples/blob/master/audio-param/index.html" target="_blank">webaudio-examples repo</a>에서 볼 수 있고, <a href="https://mdn.github.io/webaudio-examples/audio-param/" target="_blank">작동 예제</a>도 볼 수 있습니다). 이 버튼이 눌렸을 때, <code>setValueCurveAtTime()</code> 이 사용되어 gain 값을 waveArray 배열에 포함된 값들 사이에서 변화시킵니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="BWwCN4crP+1MpEgIa7DMrTb0PeN3MicZ/yXAOfnKE6A=" data-language="js"><span class="token comment">// 오디오 컨텍스트를 생성합니다</span>
<span class="token keyword">var</span> AudioContext <span class="token operator">=</span> window<span class="token punctuation">.</span>AudioContext <span class="token operator">||</span> window<span class="token punctuation">.</span>webkitAudioContext<span class="token punctuation">;</span>
<span class="token keyword">var</span> audioCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 예제를 위한 기본 변수를 설정합니다</span>
<span class="token keyword">var</span> myAudio <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'audio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pre <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myScript <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

pre<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> myScript<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>

<span class="token keyword">var</span> valueCurve <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.value-curve'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// MediaElementAudioSourceNode를 생성합니다</span>
<span class="token comment">// HTMLMediaElement를 노드 내로 전달합니다</span>
<span class="token keyword">var</span> source <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createMediaElementSource</span><span class="token punctuation">(</span>myAudio<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// gain 노드를 생성하고 gain 값을 0.5로 설정합니다</span>
<span class="token keyword">var</span> gainNode <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> currGain <span class="token operator">=</span> gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

<span class="token comment">// AudioBufferSourceNode를 gainNode에 연결하고</span>
<span class="token comment">// gainNode를 destination에 연결합니다</span>
source<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
gainNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// onclick이 발생했을 때 무언가를 하기 위해 버튼을 설정합니다</span>

<span class="token keyword">var</span> waveArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
waveArray<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>

valueCurve<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span><span class="token function">setValueCurveAtTime</span><span class="token punctuation">(</span>waveArray<span class="token punctuation">,</span> audioCtx<span class="token punctuation">.</span>currentTime<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="명세서">명세서</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://webaudio.github.io/web-audio-api/#dom-audioparam-setvaluecurveattime">Web Audio API <br><small># dom-audioparam-setvaluecurveattime</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<div class="section-content"><p>Chrome 46 이전 버전은 선형 보간법 대신 최근린 내삽법을 사용합니다.</p></div>
<h2 id="같이_보기">같이 보기</h2>
<div class="section-content"><ul> <li><a href="../web_audio_api/using_web_audio_api">Web Audio API 사용하기</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/AudioParam/setValueCurveAtTime" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/AudioParam/setValueCurveAtTime</a>
  </p>
</div>
