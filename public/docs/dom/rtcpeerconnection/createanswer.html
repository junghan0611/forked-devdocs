<header><h1>RTCPeerConnection.createAnswer()</h1></header><div class="section-content"><p><a href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> 인터페이스의 <code>createAnswer()</code> 메소드는 WebRTC 연결 중 발생하는 offer/answer 네고시에이션에서 원격 유저로부터 받은 offer에 대한 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Glossary/SDP">SDP <small>(en-US)</small></a> answer를 생성합니다. 이 answer는 세션이 이미 부착된 미디어, 브라우저에서 지원하는 코덱 및 옵션, 그리고 이미 수집된 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Glossary/ICE">ICE <small>(en-US)</small></a> candidate에 대한 정보를 담고 잇습니다. Answer는 반환 된 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>에 전달되고, 그 다음에는 네고시에이션 과정을 계속 진행하기 위해서 offer의 소스에게 전달되야합니다.</p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="w8U7FLu2SHViqTNejTR/ROUf9VJvgGHfFTj5t6a3fhw=" data-language="js">aPromise <span class="token operator">=</span> RTCPeerConnection<span class="token punctuation">.</span><span class="token function">createAnswer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

RTCPeerConnection<span class="token punctuation">.</span><span class="token function">createAnswer</span><span class="token punctuation">(</span>successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div></div>
<h3 id="매개_변수">매개 변수</h3>
<div class="section-content"><dl> <dt id="options">
<code>options</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>Answer를 커스터마이즈 할 수 있는 옵션을 설정하는 객체입니다. 설정 가능한 옵션은 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/createAnswer"><code>RTCAnswerOptions</code> <small>(en-US)</small></a> 딕셔너리에 기반합니다.</p> </dd> </dl></div>
<h3 id="더_이상_사용되지_않는_매개_변수">더 이상 사용되지 않는 매개 변수</h3>
<div class="section-content">
<p>이전 버전의 문서에서는 이 함수를 콜백 기반으로 사용하도록 되어있습니다. 콜백 기반 함수는 이제 더 이상 사용되지 않으며, <strong>사용하지 않는 것을 권장</strong>합니다. 이미 사용 중이라면, <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> 버전인 <code>createAnswer()</code>를 사용하도록 코드를 업데이트 하십시오. 이전 버전의 코드를 업데이트 하는 것을 쉽게 하기 위해 고안된 <code>createAnswer()</code>의 특정 변수에 대해 아래에서 설명합니다.</p> <dl> <dt id="successcallback">
<code>successCallback</code> <abbr class="icon icon-deprecated" title="지원이 중단되었습니다. 새로운 웹사이트에서 사용하지 마세요."> <span class="visually-hidden">지원이 중단되었습니다</span> </abbr>
</dt> <dd> <p>신규 생성된 answer를 설명하는 단일 <a href="../rtcsessiondescription"><code>RTCSessionDescription</code></a> 객체에 전달되는 <a class="page-not-created"><code>RTCSessionDescriptionCallback</code></a> 입니다.</p> </dd> <dt id="failurecallback">
<code>failureCallback</code> <abbr class="icon icon-deprecated" title="지원이 중단되었습니다. 새로운 웹사이트에서 사용하지 마세요."> <span class="visually-hidden">지원이 중단되었습니다</span> </abbr>
</dt> <dd> <p>왜 answer를 생성하는 요청이 실패했는지를 설명해주는 단일 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMException"><code>DOMException</code> <small>(en-US)</small></a> 객체에 전달되는 <a class="page-not-created"><code>RTCPeerConnectionErrorCallback</code></a> 입니다.</p> </dd> <dt id="options_2">
<code>options</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>Answer를 위해 요청된 옵션을 제공하는 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/createOffer"><code>RTCOfferOptions</code> <small>(en-US)</small></a> 객체입니다.</p> </dd> </dl>
</div>
<h3 id="예외처리">예외처리</h3>
<div class="section-content"><dl> <dt id="notreadableerror"><code>NotReadableError</code></dt> <dd> <p>아이덴티티 제공자가 아이덴티티 주장을 제공 할 수 없음을 알려줍니다.</p> </dd> <dt id="operationerror"><code>OperationError</code></dt> <dd> <p>SDP 생성이 어떤 이유로 실패했음을 알려줍니다. 이는 일반적인 failure catch-all exception 입니다.</p> </dd> </dl></div>
<h3 id="반환_값">반환 값</h3>
<div class="section-content"><p>다른 유저에게 전달되는 SDP answer를 가진 <a class="page-not-created"><code>RTCSessionDescriptionInit</code></a> 딕셔너리에 준수하는 객체와 함께 호출되는 fulfillment 핸들러인 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> 입니다.</p></div>
<h2 id="예시">예시</h2>
<div class="section-content">
<p>아래는 <a href="../webrtc_api/signaling_and_video_calling">Signaling and video calling</a> 문서에서 나오는 코드의 일부입니다. 이 코드는 시그널링 채널을 통해 다른 유저에게 offer는 전달하는 메세지를 다루는 핸들러에서 나옵니다.</p> <div class="notecard note" id="sect1"> <p><strong>참고:</strong> 주의 할 점은 이것이 시그널링 과정의 일부이며, 전송계층 구현에 대한 세부사항은 전적으로 개발자에게 달려있다는 것 입니다. 여기서는 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" class="only-in-en-us">WebSocket <small>(en-US)</small></a> 연결을 사용해서 다른 유저에게 "video-answer" 값이 있는 <code>type</code> 필드 및 offer를 보낸 장치에게 전달 할 answer를 담은 <a href="https://developer.mozilla.org/ko/docs/Glossary/JSON">JSON</a> 메세지를 보냅니다. 프로미스 fulfillment 핸들러의 다른 모든 항목들과 함께 <code>sendToServer()</code>함수로 전달되는 객체의 내용을 어떻게 할 지는 개발자의 디자인에 달려잇습니다.</p> </div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ObYodouTN3rGzsoKuYcadTuLQgSj2dEKXOcwjwsMFBI=" data-language="js">pc<span class="token punctuation">.</span><span class="token function">createAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">answer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> pc<span class="token punctuation">.</span><span class="token function">setLocalDescription</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Send the answer to the remote peer through the signaling server.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>handleGetUserMediaError<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>위의 예제는 <a href="../rtcpeerconnection"><code>RTCPeerConnection</code></a>가 신규 answer를 만들고 반환하도록 요청합니다. 프로미스 핸들러에 반환된 answer는 <a href="setlocaldescription"><code>setLocalDescription()</code></a> 호출에 의해 연결의 로컬 엔드에 대한 description으로 설정됩니다.</p> <p>이 과정이 성공하면, answer는 적당한 아무 프로토콜을 사용해서 시그널링 서버에 전달됩니다. 그리고 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>Promise.catch()</code> <small>(en-US)</small></a>는 에러를 잡아내고 처리하기 위해 사용됩니다.</p> <p><a href="../webrtc_api/signaling_and_video_calling#handling_the_invitation">Handling the invitation</a>를 확인해서 전체 코드를 확인해보십시오. 이 문서를 보면 시그널링 과정 및 answer가 어떻게 작동하는지를 이해 할 수 있습니다.</p>
</div>
<h2 id="명세">명세</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createanswer">WebRTC: Real-Time Communication in Browsers <br><small># dom-rtcpeerconnection-createanswer</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/RTCPeerConnection/createAnswer" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/RTCPeerConnection/createAnswer</a>
  </p>
</div>
