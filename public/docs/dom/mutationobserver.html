<header><h1>MutationObserver</h1></header><div class="section-content"><p><code>MutationObserver</code> 인터페이스는 <a href="document_object_model">DOM</a> 트리의 변경을 감지하는 기능을 제공합니다. DOM3 이벤트 명세의 일부였던 <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationEvent" class="only-in-en-us">Mutation Events <small>(en-US)</small></a>를 대체합니다.</p></div>
<h2 id="생성자">생성자</h2>
<div class="section-content"><dl> <dt id="mutationobserver"><a href="mutationobserver/mutationobserver"><code>MutationObserver()</code></a></dt> <dd> <p>DOM 변경이 발생하면 콜백을 호출하는 새 <code>MutationObserver</code>를 생성하고 반환합니다.</p> </dd> </dl></div>
<h2 id="인스턴스_메서드">인스턴스 메서드</h2>
<div class="section-content"><dl> <dt id="disconnect"><a href="mutationobserver/disconnect"><code>disconnect()</code></a></dt> <dd> <p><a href="mutationobserver/observe"><code>observe()</code></a>를 호출하기 전까지 <code>MutationObserver</code> 인스턴스가 더이상의 알림을 수신하지 않도록 설정합니다.</p> </dd> <dt id="observe"><a href="mutationobserver/observe"><code>observe()</code></a></dt> <dd> <p>주어진 설정과 일치하는 DOM 변경이 발생했을 때 <code>MutationObserver</code> 인스턴스가 자신의 콜백으로 알림을 수신하도록 설정합니다.</p> </dd> <dt id="takerecords_en-us"><a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/takeRecords"><code>takeRecords()</code> <small>(en-US)</small></a></dt> <dd> <p><code>MutationObserver</code>의 알림 큐를 비우고, 큐에서 대기 중이던 알림들은 <a href="mutationrecord"><code>MutationRecord</code></a>들로 구성된 새로운 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a>로 반환합니다.</p> </dd> </dl></div>
<h2 id="예제">예제</h2>
<div class="section-content">
<p>다음 예제는 <a href="https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/" target="_blank">이 블로그 글</a>에서 가져온 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ik1g9EGmxEusHxYJ0qYBKgWVq15v6C1ByRD2pxMCYgU=" data-language="js"><span class="token comment">// 변경을 감지할 노드 선택</span>
<span class="token keyword">const</span> targetNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"some-id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 감지 옵션 (감지할 변경)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">childList</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">subtree</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 변경 감지 시 실행할 콜백 함수</span>
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mutationList<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> mutation <span class="token keyword">of</span> mutationList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"childList"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"자식 노드가 추가되거나 제거됐습니다."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"attributes"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mutation<span class="token punctuation">.</span>attributeName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 특성이 변경됐습니다.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 콜백 함수에 연결된 감지기 인스턴스 생성</span>
<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 설정한 변경의 감지 시작</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>targetNode<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 이후 감지 중단 가능</span>
observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="명세서">명세서</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://dom.spec.whatwg.org/#interface-mutationobserver">DOM Standard <br><small># interface-mutationobserver</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h2 id="같이_보기">같이 보기</h2>
<div class="section-content"><ul> <li><a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver"><code>PerformanceObserver</code> <small>(en-US)</small></a></li> <li><a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver"><code>ResizeObserver</code> <small>(en-US)</small></a></li> <li><a href="intersectionobserver"><code>IntersectionObserver</code></a></li> <li><a href="https://developer.chrome.com/blog/detect-dom-changes-with-mutation-observers/" target="_blank">짧은 개요</a></li> <li><a href="https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/" target="_blank">좀 더 깊게 알아보기</a></li> <li><a href="https://www.youtube.com/watch?v=eRZ4pO0gVWw" target="_blank">Chromium 개발자 Rafael Weinstein의 발표</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/MutationObserver" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/MutationObserver</a>
  </p>
</div>
