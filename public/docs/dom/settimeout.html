<header><h1>setTimeout()</h1></header><div class="section-content"><p>전역 <code>setTimeout()</code> 메서드는 만료된 후 함수나 지정한 코드 조각을 실행하는 타이머를 설정합니다.</p></div>
<h2 id="구문">구문</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Lv9G+lSnBmMIcfqApynSi1KHWrCaduq5yDUncccmWy0=" data-language="js"><span class="token keyword">var</span> timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>code<span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div></div>
<h3 id="매개변수">매개변수</h3>
<div class="section-content"><dl> <dt id="function"><code>function</code></dt> <dd> <p>타이머가 만료된 뒤 실행할 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>function</code></a>입니다.</p> </dd> <dt id="code"><code>code</code></dt> <dd> <p>함수 대신 문자열을 지정하는 대체 구문으로, 타이머가 만료될 때 코드로 컴파일 후 실행합니다. <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/eval"><code>eval()</code></a>이 보안 취약점인 것과 같은 이유로 <strong>사용을 권장하지 않습니다</strong>.</p> </dd> <dt id="delay">
<code>delay</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>주어진 함수 또는 코드를 실행하기 전에 기다릴 밀리초 단위 시간입니다. 생략하거나 0을 지정할 경우 "즉시", 더 정확히는 다음 이벤트 사이클에 실행한다는 뜻입니다. 그러나 실제 딜레이는 의도했던 것보다 더 길 수 있습니다. 아래의 <a href="#%EB%94%9C%EB%A0%88%EC%9D%B4%EA%B0%80_%EC%A7%80%EC%A0%95%ED%95%9C_%EA%B0%92%EB%B3%B4%EB%8B%A4_%EB%8D%94_%EA%B8%B4_%EC%9D%B4%EC%9C%A0">딜레이가 지정한 값보다 더 긴 이유</a>를 참고하세요.</p> </dd> <dt id="arg1_..._argn">
<code>arg1, ..., argN</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><code>function</code>에 전달할 추가 매개변수입니다.</p> </dd> </dl></div>
<h3 id="반환_값">반환 값</h3>
<div class="section-content">
<p>반환하는 <code>timeoutID</code>는 양의 정수로서 <code>setTimeout()</code>이 생성한 타이머를 식별할 때 사용합니다. 이 값을 <a href="cleartimeout"><code>clearTimeout()</code></a>에 전달하면 타이머를 취소할 수 있습니다.</p> <p>같은 객체(<a href="window"><code>window</code></a>, 워커 등)에서 반복해 호출하는 <code>setTimeout()</code> 또는 <a href="setinterval"><code>setInterval()</code></a> 메서드는 절대 같은 <code>timeoutID</code>를 사용하지 않습니다. 그러나 다른 객체끼리는 다른 ID 풀을 사용합니다.</p>
</div>
<h2 id="설명">설명</h2>
<div class="section-content">
<p><a href="cleartimeout"><code>clearTimeout()</code></a>으로 타이머를 취소할 수 있습니다.</p> <p>어떤 함수를 몇 밀리초마다 반복적으로 호출해야 할 필요가 있으면 <a href="setinterval"><code>setInterval()</code></a>을 사용하세요.</p>
</div>
<h3 id="비동기_함수로_작업하기">비동기 함수로 작업하기</h3>
<div class="section-content">
<p><code>setTimeout()</code>은 비동기 함수로서, 함수 스택의 다른 함수 호출을 막지 않습니다. 달리 말하자면, <code>setTimeout()</code>을 사용해서 다음 함수 호출을 "일시정지" 할 수는 없습니다.</p> <p>다음 예제를 살펴보세요.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="97sJpdxQe5qb/AwaLvgf9fIrW/7kFvR+z6qP3elG9Cg=" data-language="js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"첫 번째 메시지"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"두 번째 메시지"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"세 번째 메시지"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 콘솔 출력:</span>

<span class="token comment">// 세 번째 메시지</span>
<span class="token comment">// 두 번째 메시지</span>
<span class="token comment">// 첫 번째 메시지</span>
</pre>
</div> <p>첫 번째 <code>setTimeout()</code> 호출이 두 번째 호출 전에 5초의 "정지" 구간을 만들지 않음에 주의하세요. 그 대신, 위 코드는 첫 함수 실행을 5초간 대기하는 동시에 두 번째 함수 실행을 3초간 대기하고, 다시 동시에 세 번째 함수의 실행도 1초간 대기합니다. 그 후 1초가 지나면 첫 함수와 두 번째 함수 모두 아직 타이머가 끝나지 않았기 때문에 세 번째 함수 먼저 실행됩니다. 그 후에 두 번째, 그리고 마지막으로 첫 번째 함수가 각자의 타이머 만료 후 실행됩니다.</p> <p>함수의 실행이 완료된 후에 다른 함수를 호출하는 구조가 필요하면 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise">프로미스</a> 문서를 살펴보세요.</p>
</div>
<h3 id="this_문제">"this" 문제</h3>
<div class="section-content">
<p><code>setTimeout()</code>에 메서드를 지정할 경우, 내부의 <code>this</code> 값이 예상과 다를 수도 있습니다. 이 문제에 대한 일반적인 설명은 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this#%EA%B0%9D%EC%B2%B4%EC%9D%98_%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C%EC%84%9C">JavaScript 참고서</a>가 자세히 설명합니다.</p> <p><code>setTimeout()</code>이 실행하는 코드는 <code>setTimeout()</code>을 호출했던 함수와는 다른 실행 맥락에서 호출됩니다. 호출 함수의 <code>this</code> 키워드 값을 설정하는 일반적인 규칙이 여기서도 적용되며, <code>this</code>를 호출 시 지정하지도 않았고 <code>bind</code>로 바인딩하지도 않은 경우 기본 값인 <code>window</code> (또는 <code>global</code>) 객체를 가리키게 됩니다. 따라서 <code>setTimeout()</code>을 호출한 함수의 <code>this</code> 값과는 다르게 되는 것입니다.</p> <p>다음 코드를 살펴보세요.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="YlERIMna9r8iP9M7Uu4KP6uR6ikPgVP8W7WcvHdhgao=" data-language="js"><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
myArray<span class="token punctuation">.</span><span class="token function-variable function">myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">sProperty</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">[</span>sProperty<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// "zero,one,two" 기록</span>
myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "one" 기록</span>
</pre>
</div> <p>위의 코드는 <code>myMethod</code>를 호출할 때, 호출로 인해 <code>this</code>가 <code>myArray</code>로 설정되기 때문에 정상적으로 동작합니다. <code>this[sProperty]</code>가 <code>myArray[sProperty]</code>와 동일함을 확인하세요. 그러나, 다음의 코드도 살펴보세요.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="jAzeTbEI2+IJVa+mkOOE8k2BTbyX8xfxCSmksiYkQpA=" data-language="js"><span class="token function">setTimeout</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>myMethod<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 1초 후 "[object Window]" 기록</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>myMethod<span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.5초 후 "undefined" 기록</span>
</pre>
</div> <p><code>myArray.myMethod</code>를 <code>setTimeout</code>에 전달했고, 타이머 만료 후 호출 시점에 <code>this</code>가 따로 설정되지 않으므로 기본 값인 <code>window</code> 객체를 가리키게 돼 정상적인 동작을 하지 않습니다.</p> <p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>forEach()</code></a>와 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce"><code>reduce()</code></a> 등 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a>의 메서드와는 달리 <code>setTimeout()</code>에는 <code>thisArg</code>를 설정할 수 있는 방법 또한 존재하지 않습니다. 그리고 <code>call</code>을 사용해 <code>this</code>를 설정하는 것 역시 작동하지 않습니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="S0qyHBb6m5wERE3b/bpFoCIdK0FBFmbzt30uu2Iwn5Y=" data-language="js"><span class="token function">setTimeout</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span> myArray<span class="token punctuation">.</span>myMethod<span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 오류</span>
<span class="token function">setTimeout</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span> myArray<span class="token punctuation">.</span>myMethod<span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 같은 오류</span>
</pre>
</div> <h4 id="해결법">해결법</h4> <h5 id="함수_감싸기">함수 감싸기</h5> <p>이 문제를 해결할 때 자주 사용하는 방법 중 하나는 <code>this</code>를 설정할 수 있도록 함수를 다른 함수로 감싸는 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="P3zMsFTDhkfF/UPi5k9TWhDDzVJo2+eHZEV2CFo32PI=" data-language="js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 2초 후 "zero,one,two" 기록</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2.5초 후 "one" 기록</span>
</pre>
</div> <p>화살표 함수로 감쌀 수도 있습니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="sZyImMpYiyQK38lCcXuvS8Mdoixq1gz7kZk7mvIUbLs=" data-language="js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 2초 후 "zero,one,two" 기록</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>myArray<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2.5초 후 "one" 기록</span>
</pre>
</div> <h5 id="bind_사용하기">bind() 사용하기</h5> <p>다른 방법으로는 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>bind()</code></a>를 사용해서 주어진 함수의 모든 호출에서 <code>this</code> 값을 설정하는 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="KjnC+F4g3Th9vFndroVQPlCOgfMRUnLZ9tbCbZlxwm4=" data-language="js"><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myBoundMethod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">sProperty</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">[</span>sProperty<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">myBoundMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// "zero,one,two" 기록, this가 myArray에 바인딩됐기 때문</span>
<span class="token function">myBoundMethod</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "one" 기록</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>myBoundMethod<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 1초 후, 바인딩으로 인해 여전히 "zero,one,two" 기록</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>myBoundMethod<span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.5초 후 "one" 기록</span>
</pre>
</div>
</div>
<h3 id="문자열_리터럴_지정하기">문자열 리터럴 지정하기</h3>
<div class="section-content">
<p><code>setTimeout()</code>에 함수 대신 문자열을 지정하는 것은 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/eval"><code>eval()</code></a>을 사용하는 것과 같은 문제를 가집니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="7krx5NF15gGB+5Zub74d94LNQ4r8Z3DQyT9CN0nvlOc=" data-language="js"><span class="token comment">// 하지 마세요</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">"console.log('Hello World!');"</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="lSdiK3WK4B6oy7XuuI6SB7Daw3+Hs644d8Tk4ISkCGE=" data-language="js"><span class="token comment">// 이렇게 사용하세요</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p><code>setTimeout()</code>에 전달한 문자열은 전역 맥락에서 평가되므로, <code>setTimeout()</code> 호출 시점에 접근 가능했던 로컬 심볼은 문자열 평가 시점에서는 접근 불가능합니다.</p>
</div>
<h3 id="딜레이가_지정한_값보다_더_긴_이유">딜레이가 지정한 값보다 더 긴 이유</h3>
<div class="section-content">
<p>지정한 타임아웃 값보다 실행에 긴 시간이 걸리는 이유에는 여러가지가 있습니다. 여기서는 가장 흔한 상황을 설명하겠습니다.</p> <h4 id="중첩_타임아웃">중첩 타임아웃</h4> <p><a href="https://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#timers" target="_blank">HTML 표준</a>에 명시된 것과 같이, 브라우저는 <code>setTimeout</code> 호출이 5번 이상 중첩된 경우 4ms의 최소 타임아웃을 강제합니다.</p> <p>다음 예제에서 이 동작을 확인할 수 있습니다. 딜레이로 <code>0</code>을 지정한 <code>setTimeout</code>을 여러 번 중첩하고, 각각의 콜백이 실제로 호출되기까지의 딜레이를 기록하는데, 첫 네 번 까지는 대략 0ms에 근접하지만, 그 이후로는 4ms에 근접함을 볼 수 있습니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="DcoYf6wIAfQ/hrXrCChOdFnYCetQrgz7F7aVwYOoFkE=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>run<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>시작<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>이전        현재         실제 딜레이<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="9SFYYTKSiG9YuEi8WIYzUfSmuW9ud+S2PXDpOWGf964=" data-language="js"><span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iterations <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// log the time of this call</span>
  <span class="token function">logline</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if we are not finished, schedule the next call</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>iterations<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// clear the log</span>
  <span class="token keyword">const</span> log <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#log"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>log<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// initialize iteration count and the starting timestamp</span>
  iterations <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  last <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// start timer</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">pad</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> number<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logline</span><span class="token punctuation">(</span><span class="token parameter">now</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// log the last timestamp, the new timestamp, and the difference</span>
  <span class="token keyword">const</span> newLine <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"pre"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  newLine<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">pad</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">pad</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>now <span class="token operator">-</span> last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"log"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
  last <span class="token operator">=</span> now<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#run"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> run<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
<div class="code-example" id="sect1">

<iframe class="sample-code-frame" title="중첩 타임아웃 sample" id="frame_중첩_타임아웃" width="100" height="420" src="https://live.mdnplay.dev/ko/docs/Web/API/setTimeout/runner.html?id=%EC%A4%91%EC%B2%A9_%ED%83%80%EC%9E%84%EC%95%84%EC%9B%83" loading="lazy"></iframe>
</div> <h4 id="비활성_탭의_타임아웃">비활성 탭의 타임아웃</h4> <p>백그라운드 탭으로 인한 부하(와 그로 인한 배터리 사용량)를 경감하기 위해, 브라우저는 비활성 탭에서의 최소 딜레이에 최소 값을 강제합니다. 또한 Web Audio API <a href="audiocontext"><code>AudioContext</code></a>를 사용해 소리를 재생 중일 땐 이 최소 값 정책이 면제될 수도 있습니다.</p> <p>정확한 동작은 브라우저에 따라 다릅니다.</p> <ul> <li>Firefox Desktop과 Chrome 모두 비활성 탭에 최소 1초의 타임아웃을 강제합니다.</li> <li>Firefox Android에서는 15분의 최소 타임아웃이 존재하고, 탭 전체를 언로드하는 경우도 있습니다.</li> <li>Firefox는 비활성 탭이 <a href="audiocontext"><code>AudioContext</code></a>를 포함하는 경우 최소 타임아웃을 강제하지 않습니다.</li> </ul> <h4 id="추적_스크립트_스로틀링">추적 스크립트 스로틀링</h4> <p>Firefox는 추적 스크립트로 인식한 스크립트에 대해 추가 스로틀링을 적용합니다. 전역 탭의 경우 스로틀링의 최소 딜레이는 여전히 4ms지만, 백그라운드 탭에서는 페이지의 첫 로드 이후 30초가 지나면 10,000ms, 또는 10초의 스로틀링을 적용합니다.</p> <p><a href="https://wiki.mozilla.org/Security/Tracking_protection" target="_blank">추적 방어</a> 문서에서 자세한 정보를 알아보세요.</p> <h4 id="늦은_타임아웃">늦은 타임아웃</h4> <p>페이지, 운영체제, 브라우저가 다른 작업으로 인해 바쁠 경우 타임아웃이 예쌍보다 늦게 실행될 수 있습니다. 한 가지 중요한 점은, <code>setTimeout()</code>을 호출한 스레드가 종료되기 전에는 지정한 함수 또는 코드 조각을 실행할 수 없다는 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="kb6/gFpEEal8A2g1koHcUkrOTatlGAbibAU9q41plXo=" data-language="js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo 호출'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout 완료'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>위 코드의 콘솔 기록 결과는 다음과 같습니다.</p> <pre class="notranslate">setTimeout 완료
foo 호출
</pre> <p>이렇게 되는 이유는, <code>setTimeout</code>을 0의 딜레이로 호출하기는 했으나, 이는 지정한 함수를 대기열에 넣고 가능한 바로 다음 기회에 실행하라는 것과 같으며 즉시 호출하라는 것은 아니기 때문입니다. 대기열의 함수를 실행하려면 현재 실행 중인 코드가 반드시 먼저 완료돼야 하므로, 실제 실행 결과는 예상하던 것과 다를 수 있습니다.</p> <h4 id="페이지_로드_중_타임아웃_지연">페이지 로드 중 타임아웃 지연</h4> <p>Firefox는 현재 탭이 로딩 중일 땐 <code>setTimeout()</code> 타이머 실행을 지연시킵니다. 실제 실행은 메인 스레드가 대기 상태에 들어가기 전까지(<a href="window/requestidlecallback"><code>window.requestIdleCallback()</code></a>과 비슷), 또는 <code>load</code> 이벤트가 발생하기 전까지 미뤄집니다.</p>
</div>
<h3 id="webextension_백그라운드_페이지와_타이머">WebExtension 백그라운드 페이지와 타이머</h3>
<div class="section-content"><p><a href="https://developer.mozilla.org/ko/docs/Mozilla/Add-ons/WebExtensions">WebExtensions</a>에서는 <code>setTimeout()</code>을 신뢰할 수 없습니다. 확장 개발자는 <code>setTimeout()</code> 대신 <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms" class="only-in-en-us"><code>alarms</code> <small>(en-US)</small></a> API를 사용해야 합니다.</p></div>
<h3 id="최대_딜레이">최대 딜레이</h3>
<div class="section-content"><p>Internet Explorer, Chrome, Safari, Firefox를 포함한 브라우저는 딜레이를 내부적으로 32비트 부호 있는 정수 값으로 저장합니다. 따라서 2,147,483,647ms(약 24.8일)보다 큰 값을 지정하면 정수 오버플로가 발생해서 타이머가 즉시 만료됩니다.</p></div>
<h2 id="예제">예제</h2>

<h3 id="타임아웃_설정_및_해제">타임아웃 설정 및 해제</h3>
<div class="section-content">
<p>다음 예제는 웹 페이지에 두 개의 간단한 버튼을 추가하고, 각각 <code>setTimeout()</code>과 <code>clearTimeout()</code>을 실행하도록 합니다. 첫 번째 버튼을 누르면 2초 뒤 메시지가 나타나는 타이머를 설정하고, <code>clearTimeout()</code>에서 사용할 수 있는 타임아웃 ID를 저장합니다. 두 번째 버튼을 누르면 첫 번째 버튼으로 설정한 타이머를 해제할 수 있습니다.</p> <h4 id="html">HTML</h4> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="9kEA8VWjyr4ks2DSiVMdICWCRjCYw42vxMVTlwEmQF8=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">delayedMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>2초 뒤 메시지 표시<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">clearMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>메시지가 나타나기 전에 취소<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h4 id="javascript">JavaScript</h4> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="mlmJRpx002rmuhq2rNHcQspV2+LfEU+3xw/fstHtcHg=" data-language="js"><span class="token keyword">let</span> timeoutID<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setOutput</span><span class="token punctuation">(</span><span class="token parameter">outputContent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#output'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> outputContent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">delayedMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setOutput</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>setOutput<span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'너무 느려요!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">clearMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutID<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>  <h4 id="결과">결과</h4>
<div class="code-example" id="sect2">

<iframe class="sample-code-frame" title="타임아웃 설정 및 해제 sample" id="frame_타임아웃_설정_및_해제" src="https://live.mdnplay.dev/ko/docs/Web/API/setTimeout/runner.html?id=%ED%83%80%EC%9E%84%EC%95%84%EC%9B%83_%EC%84%A4%EC%A0%95_%EB%B0%8F_%ED%95%B4%EC%A0%9C" loading="lazy"></iframe>
</div> <p><a href="cleartimeout#example"><code>clearTimeout()</code> 예제</a>도 확인해보세요.</p>
</div>
<h2 id="명세">명세</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout-dev">HTML Standard <br><small># dom-settimeout-dev</small></a></td></tr></tbody>
</table></div>
<h2 id="브라우저_호환성">브라우저 호환성</h2>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h2 id="같이_보기">같이 보기</h2>
<div class="section-content"><ul> <li>
<code>core-js</code>의 <a href="https://github.com/zloirock/core-js#settimeout-and-setinterval" target="_blank">콜백 매개변수 지원 폴리필</a>
</li> <li><a href="cleartimeout"><code>clearTimeout</code></a></li> <li><a href="setinterval"><code>setInterval()</code></a></li> <li><a href="window/requestanimationframe"><code>window.requestAnimationFrame</code></a></li> <li><a href="queuemicrotask"><code>queueMicrotask()</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/setTimeout" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/setTimeout</a>
  </p>
</div>
