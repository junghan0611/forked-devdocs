<header><h1>IIR 필터 사용하기</h1></header><div class="section-content"><p><a href="../web_audio_api">Web Audio API</a>의 <code>IIRFilterNode</code> 인터페이스는 일반적인 <a href="https://en.wikipedia.org/wiki/infinite%20impulse%20response" target="_blank">무한 임펄스 응답</a> (IIR) 필터를 구현하는 <a href="../audionode"><code>AudioNode</code></a> 프로세서입니다; 이 유형의 필터는 음색 제어 장치와 그래픽 이퀄라이저를 구현하는 데 사용될 수 있으며, 필터 응답 파라미터들은 필요하면 조율될 수 있도록 명시될 수 있습니다. 이 글은 어떻게 이것을 구현하는지, 그리고 간단한 예제로 어떻게 이것을 사용하는지를 살펴봅니다.</p></div>
<h2 id="데모">데모</h2>
<div class="section-content">
<p>이 가이드를 위한 간단한 예제는 오디오 재생을 시작하거나 멈추는 재생/정지 버튼과, 사운드의 음색을 변경하는 IIR 필터를 켜고 끄는 토글 버튼을 제공합니다. 이것은 또한 오디오의 주파수 응답이 그려진 캔버스를 제공하므로, 여러분은 IIR 필터가 어떤 이펙트를 가지고 있는지를 볼 수 있습니다.</p> <p> <img src="data:image/png;base64,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" alt="재생 버튼, 필터를 켜고 끄기 위한 토글 버튼, 필터가 적용된 이후에 반환된 필터 주파수들을 보여주는 선 그래프 기능을 가진 데모" width="620" height="621" loading="lazy"> </p> <p>여러분은 <a href="https://codepen.io/Rumyra/pen/oPxvYB/" target="_blank">Codepen에서 전체 데모</a>를 확인할 수 있습니다. <a href="https://github.com/mdn/webaudio-examples/tree/master/iirfilter-node" target="_blank">GitHub에서 소스 코드</a>도 볼 수 있습니다. 이것은 각각 다른 로우패스 주파수들에 대한 몇 가지 다른 계수 값들을 포함합니다 — 여러분은 각각 다른 이용 가능한 이펙트들을 확인해보기 위해 <code>filterNumber</code> 상수의 값을 0에서 3사이의 값으로 변경할 수 있습니다.</p>
</div>
<h2 id="브라우저_지원">브라우저 지원</h2>
<div class="section-content"><p>비록 IIR 필터가 <a href="../biquadfilternode">Biquad 필터</a>같은, 더욱 오랫동안에 걸친 Web Audio API 기능들 중 몇 가지보다 더욱 최근에 구현되긴 했지만, <a href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode" class="only-in-en-us">IIR 필터 <small>(en-US)</small></a>는 현대 브라우저들에서 잘 지원됩니다.</p></div>
<h2 id="iirfilternode">IIRFilterNode</h2>
<div class="section-content">
<p>Web Audio API는 이제 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code> <small>(en-US)</small></a> 인터페이스를 가지고 있습니다. 하지만 이것은 무엇이고 어떻게 이것이 우리가 이미 가지고 있는 <a href="../biquadfilternode"><code>BiquadFilterNode</code></a>와 다를까요?</p> <p>IIR 필터는 <strong>무한 임펄스 응답 필터</strong>입니다. 이것은 오디오와 디지털 신호 처리에서 사용되는 두 가지 주요한 유형의 필터 중 하나입니다. 다른 유형은 FIR — <strong>유한 임펄스 응답 필터</strong>입니다. <a href="https://dspguru.com/dsp/faqs/iir/basics/" target="_blank">여기 IIR 필터와 FIR 필터</a>에 대한 정말 좋은 개요가 있습니다.</p> <p>biquad 필터는 실제로는 무한 임펄스 응답 필터의 <em>특정한 유형</em>입니다. 이것은 흔히 쓰이는 유형이고 우리는 이미 Web Audio API에 노드로 이것을 가지고 있습니다. 만약 여러분이 이 노드를 선택한다면 힘든 일들은 이미 여러분을 위해 완료되어 있습니다. 예를 들자면, 만약 여러분이 사운드에서 낮은 주파수들을 여과하기를 원한다면, 여러분은 <a href="https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode/type" class="only-in-en-us">type <small>(en-US)</small></a>을 <code>highpass</code>로 설정하고 어떤 주파수를 여과할지 (또는 잘라낼지) 설정할 수 있습니다. <a href="https://www.earlevel.com/main/2003/02/28/biquads/" target="_blank">여기 biquad 필터가 어떻게 작동하는지에 대한 더 많은 정보가 있습니다</a>.</p> <p>여러분이 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code> <small>(en-US)</small></a>를 <a href="../biquadfilternode"><code>BiquadFilterNode</code></a> 대신에 사용할 때 여러분은 미리 프로그램된 유형을 단지 선택하는 것 보다는 필터를 직접 만드는 것입니다. 그래서 여러분은 하이패스 필터, 또는 로우패스 필터, 또는 더욱 맞춤형의 필터를 만들 수 있습니다. 그리고 이것이 IIR 필터가 유용해지는 지점입니다 — 만약 이미 이용 가능한 세팅중 아무 것도 여러분이 원하는 것에 대해 적합하지 못하다면 여러분은 여러분만의 필터를 만들 수 있습니다. 이것 뿐만이 아니라, 만약 여러분의 오디오 그래프가 내부에 하이패스와 밴드패스 필터를 필요로 한다면, 여러분은 이것을 위해 필요할 두 개의 biquad 필터 노드 대신에 단지 하나의 IIR 필터 노드를 사용할 수 있습니다.</p> <p>IIR 필터 노드와 함께 필터가 필요로 하는 어떤 <code>feedforward</code>와 <code>feedback</code> 값을 설정할지는 여러분에게 달렸습니다 — 이것은 필터의 특징을 결정합니다. 불리한 면은 이것은 몇 가지 복잡한 수학을 수반한다는 것입니다.</p> <p>만약 여러분이 더 배우기를 원한다면 여기 몇 가지 <a href="http://ece.uccs.edu/~mwickert/ece2610/lecture_notes/ece2610_chap8.pdf" target="_blank">IIR 필터 뒤의 수학들에 대한 정보</a>가 있습니다. 이는 신호 처리 이론의 영역에 들어갑니다 — 보고 이것이 여러분을 위한 것이 아닌 것처럼 느껴지더라도 걱정하지는 마세요.</p> <p>만약 여러분이 IIR 필터 노드를 가지고 놀기를 원하고 그러기 위해 몇몇 값들이 필요하다면, <a href="https://www.dspguide.com/CH20.PDF" target="_blank">여기 이미 계산된 값들의 표</a>가 있습니다; 링크된 PDF의 페이지 4 &amp; 5에서 a<em>n</em>값들은 <code>feedForward</code>값을 나타내고 b<em>n</em>값들은 <code>feedback</code>을 나타냅니다. 만약 여러분이 다른 필터들과 어떻게 그것들이 디지털적으로 구현되는지에 대해 더 읽기를 원한다면 <a href="http://musicdsp.org/" target="_blank">musicdsp.org</a>는 또한 훌륭한 자원입니다.</p> <p>이것 모두를 염두에 둔 채로, Web Audio API로 IIR 필터를 만드는 코드를 살펴봅시다.</p>
</div>
<h2 id="iir_필터_계수_설정하기">IIR 필터 계수 설정하기</h2>
<div class="section-content">
<p>IIR 필터를 만들 때, 우리는 <code>feedforward</code>와 <code>feedback</code> 계수를 옵션으로 (계수들은 우리가 값들을 표현하는 방법입니다) 전달합니다. 이 파라미터 둘 다는 배열이고, 둘 중 어느 것도 20개의 원소보다 클 수 없습니다.</p> <p>계수를 설정할 때, <code>feedforward</code> 값들은 모두 0으로 설정될 수 없는데, 그렇지 않으면 아무 것도 필터로 전달되지 않을 것입니다. 이것과 같은 것은 가능합니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="+6RI5eOW/A9g8OEqh3NoopPdreBEHnx4LJgfFLV2sTs=" data-language="js"><span class="token keyword">let</span> feedForward <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.00020298</span><span class="token punctuation">,</span> <span class="token number">0.0004059599</span><span class="token punctuation">,</span> <span class="token number">0.00020298</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre>
</div> <p><code>feedback</code> 값들은 0으로 시작할 수 없는데, 그렇지 않으면 첫번째 전달에서 아무 것도 되돌아오지 않을 것입니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="zeAL2NERSheGKmqwZBF1J7xP56T2e76iggxhDvCI2Vs=" data-language="js"><span class="token keyword">let</span> feedBackward <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.0126964558</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.9991880801</span><span class="token punctuation">,</span> <span class="token number">0.9873035442</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre>
</div> <div class="notecard note" id="sect1"> <p><strong>참고:</strong> 이 값들은 <a href="https://webaudio.github.io/web-audio-api/#filters-characteristics" target="_blank">Web Audio API 명세의 필터 특징들</a>에서 명시된 로우패스 필터에 기반하여 계산된 값들입니다. 이 필터 노드가 더욱 많은 인기를 얻고 있으므로 우리는 더 많은 계수 값들을 모을 수 있을 것입니다.</p> </div>
</div>
<h2 id="오디오_그래프에서_iir_필터_사용하기">오디오 그래프에서 IIR 필터 사용하기</h2>
<div class="section-content">
<p>컨텍스트와 필터 노드를 만들어 봅시다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="KqJwjK2ksJmncgLDDdjJ7dIFBBb/NyLtpMSxu+1HveQ=" data-language="js"><span class="token keyword">const</span> AudioContext <span class="token operator">=</span> window<span class="token punctuation">.</span>AudioContext <span class="token operator">||</span> window<span class="token punctuation">.</span>webkitAudioContext<span class="token punctuation">;</span>
<span class="token keyword">const</span> audioCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> iirFilter <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createIIRFilter</span><span class="token punctuation">(</span>feedForward<span class="token punctuation">,</span> feedBack<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>우리는 재생할 음원이 필요합니다. 우리는 사용자 정의 함수인 <code>playSoundNode()</code>를 사용하여 이것을 설정하는데, 이 함수는 존재하는 <a href="../audiobuffer"><code>AudioBuffer</code></a>로부터 <a href="https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createBufferSource" class="only-in-en-us">버퍼 소스를 만들고 <small>(en-US)</small></a>, 이것을 기본 목적지에 부착하고, 재생을 시작시키고, 이것을 반환합니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="pOcBw4XpIZxfiicN1qi2m95MRoVIOT3aG5yvzsOknF0=" data-language="js"><span class="token keyword">function</span> <span class="token function">playSourceNode</span><span class="token punctuation">(</span><span class="token parameter">audioContext<span class="token punctuation">,</span> audioBuffer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> soundSource <span class="token operator">=</span> audioContext<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  soundSource<span class="token punctuation">.</span>buffer <span class="token operator">=</span> audioBuffer<span class="token punctuation">;</span>
  soundSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
  soundSource<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> soundSource<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>이 함수는 재생 버튼이 눌러졌을 때 호출됩니다. 재생 버튼 HTML은 다음같이 생겼습니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="6navkiaS6W6DeVGmPDjcbX4B7diEmkT/TOYvuNKBNx4=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button-play<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>switch<span class="token punctuation">"</span></span> <span class="token attr-name">data-playing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-pressed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Play<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>그리고 <code>click</code> 이벤트 리스너는 다음과 같이 시작합니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="tzMUzQiqqQhHeJVzbnYpQtaxke6+YMslZLY914/NucU=" data-language="js">playButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>playing <span class="token operator">===</span> <span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        srcNode <span class="token operator">=</span> <span class="token function">playSourceNode</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">,</span> sample<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>IIR 필터를 켜고 끄는 토글 버튼은 비슷한 방식으로 설정됩니다. 우선, HTML은:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="/Sw6HhopqEe8ol6WZJ/mUyDcozsAs8GZKZ9Rxrm1yt0=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button-filter<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>switch<span class="token punctuation">"</span></span> <span class="token attr-name">data-filteron</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-pressed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-describedby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>필터 버튼의 <code>click</code> 핸들러는 그리고 나서 <code>IIRFilter</code>를 그래프에 연결하는데, 이는 소스와 목적지 사이입니다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="EyXrE27Rs3fL9+l1NCv0SO+ihkmiakQUebQeGWNt0ck=" data-language="js">filterButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>filteron <span class="token operator">===</span> <span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        srcNode<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
        srcNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>iirfilter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="주파수_응답">주파수 응답</h3>
<div class="section-content">
<p>우리는 <a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code> <small>(en-US)</small></a> 인스턴스에서 이용 가능한 단 하나의 메서드 <code>getFrequencyResponse()</code>만을 가지고 있는데, 이는 필터 내로 전달되고 있는 오디오의 주파수에 무슨 일이 일어나는지 볼 수 있게 해 줍니다.</p> <p>우리가 만든 필터의 주파수 플롯을 이 메서드로부터 얻은 데이터로 그려 봅시다.</p> <p>우리는 세 개의 배열을 만들 필요가 있습니다. 규모 응답과 상(phase) 응답을 받기를 원하는 주파수 값의 배열 하나, 그리고 데이터를 받기 위한 두 개의 빈 배열입니다. 이 세 개 모두 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>float32array</code></a> 유형이여야만 하고 같은 크기여야 합니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="n/ydUjNiM3HpjrKvTOqUwN8jaKPIJNJpwWc3PBWEjCk=" data-language="js"><span class="token comment">// 주파수 응답에 대한 배열들</span>
<span class="token keyword">const</span> totalArrayItems <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myFrequencyArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span>totalArrayItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> magResponseOutput <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span>totalArrayItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> phaseResponseOutput <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span>totalArrayItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>첫번째 배열을 우리가 원하는 반환될 데이터인 주파수 값으로 채웁시다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="1zwyPsBky5dz7B5ZO3sQbwKbuuHrdWe+U8QEEgTUNpU=" data-language="js">myFrequencyArray <span class="token operator">=</span> myFrequencyArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">1.4</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>우리는 선형적인 접근을 택할 수도 있지만, 주파수를 가지고 작업할 때는 로그 접근을 취하는 것이 훨씬 나으므로, 배열 원소에서 더 커진 주파수 값들로 배열을 채웁시다.</p> <p>이제 응답 데이터를 얻읍시다:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="weIux/1S0N/iQEpgGVbFth63obQD3c8fE1goLmv185c=" data-language="js">iirFilter<span class="token punctuation">.</span><span class="token function">getFrequencyResponse</span><span class="token punctuation">(</span>myFrequencyArray<span class="token punctuation">,</span> magResponseOutput<span class="token punctuation">,</span> phaseResponseOutput<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>우리는 이 데이터를 필터 주파수 플롯을 그리기 위해 사용할 수 있습니다. 우리는 2d 캔버스 컨텍스트에서 그렇게 할 것입니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="9HDNIK8JVMDMO9N2g+1MLAJoi6KRbC3kwCxck6Qk7Z8=" data-language="js"><span class="token comment">// 캔버스 요소를 만들고 dom에 추가합니다</span>
<span class="token keyword">const</span> canvasContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.filter-graph'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> canvasEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>canvasEl<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2d 컨텍스트를 설정하고 크기를 설정합니다</span>
<span class="token keyword">const</span> canvasCtx <span class="token operator">=</span> canvasEl<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> width <span class="token operator">=</span> canvasContainer<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
<span class="token keyword">const</span> height <span class="token operator">=</span> canvasContainer<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>
canvasEl<span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
canvasEl<span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>

<span class="token comment">// 배경을 채울 색상을 설정합니다</span>
canvasCtx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 크기에 맞춰 여백을 설정합니다</span>
<span class="token keyword">const</span> spacing <span class="token operator">=</span> width<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fontSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>spacing<span class="token operator">/</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 축을 그립니다</span>
canvasCtx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'grey'</span><span class="token punctuation">;</span>

canvasCtx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>spacing<span class="token punctuation">,</span> spacing<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>spacing<span class="token punctuation">,</span> height<span class="token operator">-</span>spacing<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>width<span class="token operator">-</span>spacing<span class="token punctuation">,</span> height<span class="token operator">-</span>spacing<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 축은 gain(y축)과 주파수(x축)입니다 -&gt; 라벨을 만듭니다</span>
canvasCtx<span class="token punctuation">.</span>font <span class="token operator">=</span> fontSize<span class="token operator">+</span><span class="token string">'px sans-serif'</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'grey'</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> spacing<span class="token operator">-</span>fontSize<span class="token punctuation">,</span> spacing<span class="token operator">+</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">,</span> spacing<span class="token operator">-</span>fontSize<span class="token punctuation">,</span> <span class="token punctuation">(</span>height<span class="token operator">-</span>spacing<span class="token operator">+</span>fontSize<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span> spacing<span class="token operator">-</span>fontSize<span class="token punctuation">,</span> height<span class="token operator">-</span>spacing<span class="token operator">+</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'Hz'</span><span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">-</span>spacing<span class="token operator">+</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvasCtx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'20k'</span><span class="token punctuation">,</span> width<span class="token operator">-</span>spacing<span class="token punctuation">,</span> height<span class="token operator">-</span>spacing<span class="token operator">+</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 규모 응답 데이터를 순회하고 필터를 그립니다</span>

canvasCtx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> magResponseOutput<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        canvasCtx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>spacing<span class="token punctuation">,</span> height<span class="token operator">-</span><span class="token punctuation">(</span>magResponseOutput<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">-</span>spacing <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        canvasCtx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token punctuation">(</span>width<span class="token operator">/</span>totalArrayItems<span class="token punctuation">)</span><span class="token operator">*</span>i<span class="token punctuation">,</span> height<span class="token operator">-</span><span class="token punctuation">(</span>magResponseOutput<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">-</span>spacing <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

canvasCtx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="요약">요약</h2>
<div class="section-content"><p>이것이 IIR 필터 데모의 전부입니다. 이것은 어떻게 기본을 사용하는지를 보여주고, 왜 이것이 유용한지와 어떻게 이것이 작동하는지를 이해하는 것을 도와주었을 것입니다.</p></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/Web_Audio_API/Using_IIR_filters" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/Web_Audio_API/Using_IIR_filters</a>
  </p>
</div>
