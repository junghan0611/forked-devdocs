<header><h1>내비게이션 타이밍(Navigation Timing)</h1></header><div class="section-content">
<p><strong>Navigation Timing API</strong>는 웹 사이트의 성능을 측정하는 데 사용할 수 있는 데이터를 제공합니다. 같은 목적에 사용했던 다른 JavaScript 기반 메커니즘과 다르게 이 API는 더 유용하고 정확한 종단 간(end-to-end) 대기 시간(latency)을 제공할 수 있습니다.</p> <p>다음 예제는 지각하는(perceived) 로딩 시간을 측정하는 법을 보여줍니다.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="T2tvHWjn20sELz+GGT4MS3L4Ba7/hM2+Pop9nDibtto=" data-language="js"><span class="token keyword">function</span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> page_load_time <span class="token operator">=</span> now <span class="token operator">-</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"User-perceived page loading time: "</span> <span class="token operator">+</span> page_load_time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p><a class="only-in-en-us" href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming"><code>PerformanceTiming</code> <small>(en-US)</small></a> 인터페이스로 접근할 수 있는 밀리 초 단위로 주어진 측정된 이벤트가 많이 있습니다. 발생하는 순서로 된 이벤트 목록입니다.</p> <ul> <li>navigationStart</li> <li>unloadEventStart</li> <li>unloadEventEnd</li> <li>redirectStart</li> <li>redirectEnd</li> <li>fetchStart</li> <li>domainLookupStart</li> <li>domainLookupEnd</li> <li>connectStart</li> <li>connectEnd</li> <li>secureConnectionStart</li> <li>requestStart</li> <li>responseStart</li> <li>responseEnd</li> <li>domLoading</li> <li>domInteractive</li> <li>domContentLoadedEventStart</li> <li>domContentLoadedEventEnd</li> <li>domComplete</li> <li>loadEventStart</li> <li>loadEventEnd</li> </ul> <p><code>window.performance.navigation</code> 객체는 리다이렉트(redirect), 앞/뒤 버튼, 혹은 보통의 URL 로딩이 어떤 페이지 로드를 일으키는지(trigger) 아는 데 사용할 수 있는 두 속성을 저장합니다.</p> <p>window.performance.navigation.type:</p> <figure class="table-container"><div class="_table"><table> <thead> <tr> <th>상수</th> <th>값</th> <th>설명</th> </tr> </thead> <tbody> <tr> <td><a name="const_next"><code>TYPE_NAVIGATENEXT</code></a></td> <td>0</td> <td>아래 목록의 TYPE_RELOAD과 TYPE_BACK_FORWARD가 사용하는 것 외에, 링크 클릭하기, 사용자 에이전트(UA) 주소 바에 URL 입력하기, 폼 전송, 스크립트 연산으로 초기화하기로 시작한 내비게이션.</td> </tr> <tr> <td><a name="const_next_no_duplicate"><code>TYPE_RELOAD</code></a></td> <td>1</td> <td>리로드(reload) 연산 혹은 location.reload() 메소드를 통한 내비게이션.</td> </tr> <tr> <td><a name="const_prev"><code>TYPE_BACK_FORWARD</code></a></td> <td>2</td> <td>히스토리 순회(traversal) 연산을 통한 내비게이션</td> </tr> <tr> <td><a name="const_prev_no_duplicate"><code>TYPE_UNDEFINED</code></a></td> <td>255</td> <td>위 값으로 정의되지 않는 어떠한 내비게이션 타입.</td> </tr> </tbody> </table></div></figure> <p><code>window.performance.navigation.redirectCount</code>는 마지막 페이지에 도달할 때까지, 만일 있다면 몇 번의 리다이렉션이 일어났는지를 나타냅니다.</p> <p>Navigation Timing API는 XHR로 서버에 보낸 클라이언트 쪽 성능 데이터를 모을 뿐 아니라 이전 페이지 언로드(unload) 시간, 도메인 룩업(look up) 시간, window.onload 전체 시간 등 다른 방법으로 측정하기 매우 어려운 데이터를 측정하는 데 사용할 수 있습니다.</p>
</div>
<h3 id="예제">예제</h3>
<div class="section-content">
<p>어떤 페이지를 로딩하는 데 필요한 전체 시간 계산하기.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="HvLcynAouFAbsyd5rJbK97uldbOrUtz2pI58KLDRRpo=" data-language="js"><span class="token keyword">var</span> perfData <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span>timing<span class="token punctuation">;</span>
<span class="token keyword">var</span> pageLoadTime <span class="token operator">=</span> perfData<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> perfData<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>
</pre>
</div> <p>요청 응답 시간 계산하기.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="SeZgycTQlmIb8M8/U/ITe3PKUT7cIAJa2QHFTa+gInA=" data-language="js"><span class="token keyword">var</span> connectTime <span class="token operator">=</span> perfData<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> perfData<span class="token punctuation">.</span>requestStart<span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="링크">링크</h3>
<div class="section-content"><ul> <li><a href="http://webtimingdemo.appspot.com/" target="_blank">Test Page</a></li> <li><a href="http://w3c-test.org/webperf/specs/NavigationTiming/" target="_blank">http://w3c-test.org/webperf/specs/NavigationTiming/</a></li> <li><a href="https://www.w3.org/TR/navigation-timing/" target="_blank">http://www.w3.org/TR/navigation-timing/</a></li> </ul></div>
<h3 id="브라우저_호환">브라우저 호환</h3>

<h3 id="window.performance.timing"><code>Window.performance.timing</code></h3>
<div class="section-content">{{Compat}}</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/ko/docs/Web/API/Performance_API/Navigation_timing" class="_attribution-link">https://developer.mozilla.org/ko/docs/Web/API/Performance_API/Navigation_timing</a>
  </p>
</div>
